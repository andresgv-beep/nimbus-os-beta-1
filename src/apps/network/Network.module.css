.layout { display: flex; height: 100%; }
.sidebar {
  width: var(--sidebar-width); background: var(--bg-sidebar); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border-right: 1px solid var(--border); padding: calc(var(--window-header-height) + var(--space-3)) 0 var(--space-3) 0; margin-top: calc(-1 * var(--window-header-height)); overflow-y: auto; flex-shrink: 0;
}
.sectionLabel {
  font-size: var(--text-xs); font-weight: var(--weight-medium); color: var(--text-muted);
  text-transform: uppercase; letter-spacing: 0.5px; padding: var(--space-3) var(--space-4) var(--space-1);
}
.sidebarItem {
  display: flex; align-items: center; gap: var(--space-2);
  padding: var(--space-2) var(--space-4); font-size: var(--text-base);
  color: var(--text-secondary); cursor: pointer; transition: var(--transition);
}
.sidebarItem:hover { background: var(--bg-hover); color: var(--text-primary); }
.sidebarItem.active { color: var(--accent); background: var(--bg-active); }
.sidebarIcon { display: flex; align-items: center; width: 20px; flex-shrink: 0; }

.main { flex: 1; padding: var(--space-5); overflow-y: auto; }
.main > * { max-width: 820px; }
.title { font-size: var(--text-lg); font-weight: var(--weight-medium); margin-bottom: var(--space-4); }

.statsRow { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-3); margin-bottom: var(--space-4); }
.stat {
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius);
  padding: var(--space-4); text-align: center;
}
.statValue { font-size: var(--text-2xl); font-weight: var(--weight-medium); }
.statLabel { font-size: var(--text-xs); color: var(--text-muted); margin-top: 2px; }

.tableCard {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); overflow: hidden;
}
.table { width: 100%; border-collapse: collapse; font-size: var(--text-sm); }
.table th {
  text-align: left; padding: var(--space-3) var(--space-4);
  font-size: var(--text-xs); font-weight: var(--weight-medium);
  color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px;
  border-bottom: 1px solid var(--border); background: var(--bg-sidebar); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
}
.table td { padding: var(--space-3) var(--space-4); border-bottom: 1px solid var(--border); }
.table tr:last-child td { border-bottom: none; }
.table tr:hover td { background: var(--bg-hover); }
.cellName { font-weight: var(--weight-medium); color: var(--text-primary); }
.mono { font-family: var(--font-mono); font-size: var(--text-sm); }

.badge {
  font-size: var(--text-xs); padding: 2px 8px; border-radius: var(--radius-full);
  color: var(--text-muted);
}
.badgeGood { background: rgba(76,175,80,0.08); color: var(--accent-green); }
.badgeWarn { background: rgba(255,167,38,0.08); color: var(--accent-amber); }
.badgeDanger { background: rgba(239,83,80,0.08); color: var(--accent-red); }

/* ─── Sidebar service dot ─── */
.sidebarDot {
  width: 7px; height: 7px; border-radius: 50%; margin-left: auto; flex-shrink: 0;
}
.dotOn { background: var(--accent-green); box-shadow: 0 0 6px rgba(76,175,80,0.4); }
.dotOff { background: var(--text-muted); opacity: 0.3; }

/* ─── Service Header ─── */
.serviceHeader {
  display: flex; justify-content: space-between; align-items: flex-start;
  margin-bottom: var(--space-4);
}
.desc { font-size: var(--text-sm); color: var(--text-muted); margin-top: var(--space-1); }

/* ─── Toggle ─── */
.toggle {
  width: 44px; height: 24px; border-radius: var(--radius-full);
  background: rgba(255,255,255,0.1); cursor: pointer;
  position: relative; transition: background 0.2s ease; flex-shrink: 0;
}
.toggleOn { background: var(--accent); }
.toggleDot {
  position: absolute; top: 3px; left: 3px;
  width: 18px; height: 18px; border-radius: 50%;
  background: white; transition: transform 0.2s ease;
}
.toggleOn .toggleDot { transform: translateX(20px); }

/* ─── Service Grid (status/port/protocol) ─── */
.serviceGrid {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: var(--space-3); margin-bottom: var(--space-4);
}
.serviceCard {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: var(--space-4);
}
.serviceCardTitle { font-size: var(--text-xs); color: var(--text-muted); margin-bottom: var(--space-2); text-transform: uppercase; letter-spacing: 0.5px; }
.serviceValue { font-size: var(--text-lg); font-weight: var(--weight-medium); color: var(--text-primary); }

.statusBadge {
  display: inline-flex; align-items: center; gap: var(--space-2);
  font-size: var(--text-base); font-weight: var(--weight-medium);
}
.statusRunning { color: var(--accent-green); }
.statusStopped { color: var(--text-muted); }
.statusDot {
  width: 8px; height: 8px; border-radius: 50%; background: currentColor;
}
.statusRunning .statusDot { box-shadow: 0 0 6px rgba(76,175,80,0.5); }

/* ─── Config Card ─── */
.configCard {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: var(--space-4); margin-bottom: var(--space-3);
}
.configTitle {
  font-size: var(--text-sm); font-weight: var(--weight-medium); color: var(--text-primary);
  margin-bottom: var(--space-3); padding-bottom: var(--space-2); border-bottom: 1px solid var(--border);
}
.configRow {
  display: flex; justify-content: space-between; align-items: center;
  padding: var(--space-2) 0; font-size: var(--text-sm);
  border-bottom: 1px solid var(--border);
}
.configRow:last-child { border-bottom: none; }
.configLabel { color: var(--text-muted); }
.configValue { color: var(--text-primary); font-weight: var(--weight-medium); }

/* ─── Page Header ─── */
.pageHeader {
  display: flex; justify-content: space-between; align-items: flex-start;
  margin-bottom: var(--space-4);
}
.subtitle { font-size: var(--text-sm); color: var(--text-muted); margin-top: var(--space-1); }

/* ─── Provider Grid ─── */
.providerGrid {
  display: grid; grid-template-columns: repeat(5, 1fr); gap: var(--space-2);
}
.providerCard {
  padding: var(--space-3); border: 1px solid var(--border); border-radius: var(--radius);
  cursor: pointer; transition: all 0.2s ease; position: relative; text-align: center;
}
.providerCard:hover { border-color: var(--text-muted); background: var(--bg-hover); }
.providerActive { border-color: var(--accent); background: rgba(233,84,32,0.05); }
.providerName { font-weight: var(--weight-medium); font-size: var(--text-sm); }
.providerUrl { font-size: var(--text-xs); color: var(--text-muted); margin-top: 2px; }
.freeBadge {
  position: absolute; top: 4px; right: 4px;
  font-size: 9px; padding: 1px 4px; border-radius: var(--radius-full);
  background: rgba(76,175,80,0.1); color: var(--accent-green);
}

/* ─── Form Elements ─── */
.formGroup { margin-bottom: var(--space-4); }
.formLabel {
  display: block; font-size: var(--text-sm); font-weight: var(--weight-medium);
  color: var(--text-primary); margin-bottom: var(--space-2);
}
.formHint {
  display: block; font-size: var(--text-xs); color: var(--text-muted);
  font-weight: normal; margin-top: 2px;
}
.formHint a { color: var(--accent); text-decoration: none; }
.formHint a:hover { text-decoration: underline; }

.input {
  width: 100%; padding: var(--space-2) var(--space-3);
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius);
  font-size: var(--text-sm); color: var(--text-primary);
  transition: border-color 0.2s ease;
}
.input:focus { outline: none; border-color: var(--accent); }
.input::placeholder { color: var(--text-muted); }

.select {
  width: 100%; padding: var(--space-2) var(--space-3);
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius);
  font-size: var(--text-sm); color: var(--text-primary); cursor: pointer;
  appearance: none; -webkit-appearance: none; -moz-appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23999' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  padding-right: 36px;
}
.select:focus { outline: none; border-color: var(--accent); }
.select option {
  background: var(--bg-card);
  color: var(--text-primary);
  padding: var(--space-2);
}

.tokenInput { display: flex; gap: var(--space-2); }
.tokenInput .input { flex: 1; font-family: var(--font-mono); }
.tokenToggle {
  padding: var(--space-2); background: var(--bg-input); border: 1px solid var(--border);
  border-radius: var(--radius); cursor: pointer; font-size: var(--text-base);
}
.tokenToggle:hover { background: var(--bg-hover); }

.domainPreview {
  margin-top: var(--space-2); padding: var(--space-2) var(--space-3);
  background: rgba(76,175,80,0.05); border: 1px solid rgba(76,175,80,0.2);
  border-radius: var(--radius); font-size: var(--text-sm); color: var(--accent-green);
  font-family: var(--font-mono);
}

/* ─── Form Actions ─── */
.formActions {
  display: flex; justify-content: flex-end; gap: var(--space-2);
  margin-top: var(--space-4); padding-top: var(--space-4); border-top: 1px solid var(--border);
}
.btnPrimary {
  padding: var(--space-2) var(--space-4); background: var(--accent); color: white;
  border: none; border-radius: var(--radius); font-size: var(--text-sm);
  font-weight: var(--weight-medium); cursor: pointer; transition: all 0.2s ease;
}
.btnPrimary:hover { filter: brightness(1.1); }
.btnPrimary:disabled { opacity: 0.5; cursor: not-allowed; }

.btnSecondary {
  padding: var(--space-2) var(--space-4); background: transparent;
  border: 1px solid var(--border); color: var(--text-primary); border-radius: var(--radius);
  font-size: var(--text-sm); font-weight: var(--weight-medium); cursor: pointer;
  transition: all 0.2s ease;
}
.btnSecondary:hover { background: var(--bg-hover); border-color: var(--text-muted); }
.btnSecondary:disabled { opacity: 0.5; cursor: not-allowed; }

/* ─── Help Card ─── */
.helpCard {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); padding: var(--space-4); margin-top: var(--space-4);
}
.helpTitle {
  font-size: var(--text-sm); font-weight: var(--weight-medium); color: var(--text-primary);
  margin-bottom: var(--space-2);
}
.helpText {
  font-size: var(--text-sm); color: var(--text-muted); line-height: 1.5;
  margin-bottom: var(--space-3);
}
.helpSteps { display: flex; flex-direction: column; gap: var(--space-2); }
.helpStep {
  display: flex; align-items: center; gap: var(--space-3);
  font-size: var(--text-sm); color: var(--text-secondary);
}
.helpStepNum {
  width: 24px; height: 24px; border-radius: 50%; background: var(--accent);
  color: white; display: flex; align-items: center; justify-content: center;
  font-size: var(--text-xs); font-weight: var(--weight-medium); flex-shrink: 0;
}

/* ─── Domain Input with Suffix ─── */
.domainInputWrap {
  display: flex; align-items: center; gap: 0;
}
.domainInputWrap .input {
  border-top-right-radius: 0; border-bottom-right-radius: 0; border-right: none;
}
.domainSuffix {
  padding: var(--space-2) var(--space-3);
  background: var(--bg-sidebar); border: 1px solid var(--border);
  border-left: none; border-radius: 0 var(--radius) var(--radius) 0;
  font-size: var(--text-sm); color: var(--text-muted);
  font-family: var(--font-mono); white-space: nowrap;
}
.helpStep a { color: var(--accent); text-decoration: none; }
.helpStep a:hover { text-decoration: underline; }

/* ─── Custom Select Dropdown ─── */
.customSelect {
  position: relative;
}
.customSelectTrigger {
  display: flex; align-items: center; justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius);
  font-size: var(--text-sm); cursor: pointer; transition: border-color 0.2s ease;
}
.customSelectTrigger:hover { border-color: var(--text-muted); }
.customSelectPlaceholder { color: var(--text-muted); }
.customSelectValue { color: var(--text-primary); }
.chevronUp { transform: rotate(180deg); }

.customSelectBackdrop {
  position: fixed; inset: 0; z-index: 99;
}
.customSelectMenu {
  position: absolute; top: calc(100% + 4px); left: 0; right: 0;
  background: var(--bg-dropdown); border: 1px solid var(--border-light);
  border-radius: var(--radius); box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  z-index: 100; overflow: hidden;
}
.customSelectOption {
  display: flex; align-items: center; justify-content: space-between;
  padding: var(--space-3) var(--space-4); cursor: pointer;
  transition: background 0.15s ease; background: var(--bg-dropdown);
}
.customSelectOption:hover { background: var(--bg-dropdown-hover); }
.customSelectOption:hover { background: var(--bg-hover); }
.customSelectOptionActive { background: rgba(233,84,32,0.1); }
.customSelectOptionName { font-weight: var(--weight-medium); color: var(--text-primary); }
.customSelectOptionUrl { font-size: var(--text-xs); color: var(--text-muted); }

/* ─── Interval Options ─── */
.intervalOptions {
  display: flex; flex-wrap: wrap; gap: var(--space-2);
}
.intervalOption {
  padding: var(--space-2) var(--space-3);
  background: var(--bg-input); border: 1px solid var(--border);
  border-radius: var(--radius); font-size: var(--text-sm);
  color: var(--text-secondary); cursor: pointer;
  transition: all 0.15s ease;
}
.intervalOption:hover { border-color: var(--text-muted); color: var(--text-primary); }
.intervalOptionActive {
  background: rgba(233,84,32,0.1); border-color: var(--accent); color: var(--accent);
}

/* ─── Input with suffix fix ─── */
.inputWithSuffix {
  border-top-right-radius: 0; border-bottom-right-radius: 0; border-right: none;
}

/* ─── Action Buttons ─── */
.actionBtn {
  padding: 7px 16px; font-size: var(--text-sm); font-weight: 500;
  background: var(--accent); color: white; border: none; border-radius: var(--radius);
  cursor: pointer; transition: opacity 0.15s;
}
.actionBtn:hover { opacity: 0.85; }
.actionBtn:disabled { opacity: 0.5; cursor: not-allowed; }

.actionBtnSecondary {
  padding: 7px 16px; font-size: var(--text-sm); font-weight: 500;
  background: var(--bg-card); color: var(--text-secondary); border: 1px solid var(--border);
  border-radius: var(--radius); cursor: pointer; transition: background 0.15s;
}
.actionBtnSecondary:hover { background: var(--bg-hover); color: var(--text-primary); }

.actionBtnOpen {
  padding: 4px 12px; font-size: var(--text-xs); font-weight: 500;
  background: var(--accent); color: white; border: none; border-radius: var(--radius-sm);
  cursor: pointer; transition: opacity 0.15s;
}
.actionBtnOpen:hover { opacity: 0.85; }
.actionBtnOpen:disabled { opacity: 0.5; cursor: not-allowed; }

.actionBtnDanger {
  padding: 4px 12px; font-size: var(--text-xs); font-weight: 500;
  background: rgba(239,83,80,0.08); color: var(--accent-red); border: 1px solid rgba(239,83,80,0.15);
  border-radius: var(--radius-sm); cursor: pointer; transition: all 0.15s;
}
.actionBtnDanger:hover { background: rgba(239,83,80,0.15); }
.actionBtnDanger:disabled { opacity: 0.5; cursor: not-allowed; }

.actionBtnUpnp {
  padding: 4px 10px; font-size: var(--text-xs); font-weight: 500;
  background: rgba(33,150,243,0.08); color: #2196f3; border: 1px solid rgba(33,150,243,0.15);
  border-radius: var(--radius-sm); cursor: pointer; transition: all 0.15s;
}
.actionBtnUpnp:hover { background: rgba(33,150,243,0.15); }
.actionBtnUpnp:disabled { opacity: 0.5; cursor: not-allowed; }

.deleteBtn {
  width: 24px; height: 24px; border: none; background: transparent;
  color: var(--text-muted); cursor: pointer; border-radius: var(--radius-sm);
  font-size: 12px; display: flex; align-items: center; justify-content: center;
  transition: all 0.15s;
}
.deleteBtn:hover { background: rgba(239,83,80,0.1); color: var(--accent-red); }

/* ─── Firewall Tabs ─── */
.fwTabs {
  display: flex; gap: 2px; margin-bottom: 16px;
  background: var(--bg-card); border-radius: var(--radius); padding: 3px;
}
.fwTab {
  flex: 1; padding: 8px 12px; border: none; border-radius: var(--radius-sm);
  background: transparent; color: var(--text-secondary);
  font-size: var(--text-sm); font-weight: 500; cursor: pointer; transition: all 0.15s;
}
.fwTab:hover { color: var(--text-primary); background: var(--bg-hover); }
.fwTabActive { background: var(--accent); color: white; }
.fwTabActive:hover { background: var(--accent); color: white; }

/* ─── Service Scan List ─── */
.serviceList { display: flex; flex-direction: column; gap: 8px; }

.serviceRow {
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius);
  padding: 12px 14px; transition: border-color 0.15s;
}
.serviceRow:hover { border-color: var(--accent); }

.serviceRowHeader { display: flex; align-items: center; gap: 10px; }

.svcIcon {
  width: 32px; height: 32px; border-radius: var(--radius-sm);
  background: rgba(var(--accent-rgb, 100,180,255), 0.1);
  display: flex; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0;
}
.svcIconDocker { background: rgba(33,150,243,0.1); }

.svcName { font-weight: 600; font-size: var(--text-sm); color: var(--text-primary); }
.svcMeta { font-size: 11px; color: var(--text-muted); }

.portActions { display: flex; align-items: center; gap: 8px; }
.portLabel { font-family: var(--font-mono); font-size: var(--text-sm); color: var(--text-secondary); min-width: 80px; }
.portAddr { font-size: 11px; color: var(--text-muted); flex: 1; }

.portSubList { display: flex; flex-direction: column; gap: 4px; margin-top: 8px; }
.portSubRow {
  display: flex; align-items: center; gap: 8px; padding: 5px 8px;
  background: var(--bg-inset); border-radius: var(--radius-sm);
}

/* ─── Rule Form ─── */
.ruleForm {
  display: grid; grid-template-columns: 1fr 1fr 1fr 1fr auto; gap: 10px; align-items: end;
}
.formLabel { font-size: 11px; color: var(--text-muted); display: block; margin-bottom: 4px; }
