.layout { display: flex; height: 100%; }

.sidebar {
  width: 204px; background: var(--bg-sidebar); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border-right: 1px solid var(--border); padding: calc(var(--window-header-height) + var(--space-3)) 0 var(--space-3) 0; margin-top: calc(-1 * var(--window-header-height));
  overflow-y: auto; flex-shrink: 0;
}
.sectionLabel {
  font-size: var(--text-xs); font-weight: var(--weight-medium); color: var(--text-muted);
  text-transform: uppercase; letter-spacing: 0.5px; padding: var(--space-3) var(--space-4) var(--space-1);
}
.sidebarItem {
  padding: var(--space-2) var(--space-4); font-size: var(--text-base);
  color: var(--text-secondary); cursor: pointer; transition: var(--transition);
}
.sidebarItem:hover { background: var(--bg-hover); color: var(--text-primary); }
.sidebarItem.active { color: var(--accent); background: var(--bg-active); }

.main { flex: 1; padding: var(--space-5); overflow-y: auto; }
.main > * { max-width: 820px; }
.pageTitle { font-size: var(--text-lg); font-weight: var(--weight-medium); margin-bottom: var(--space-4); }

/* Card */
.card {
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius);
  padding: var(--space-4); margin-bottom: var(--space-4);
}
.cardLabel { font-size: var(--text-base); font-weight: var(--weight-medium); margin-bottom: var(--space-3); }

/* Theme picker */
.themeRow { display: flex; gap: var(--space-3); }
.themePreview { cursor: pointer; flex: 1; }
.themeBox {
  width: 100%; height: 60px; border-radius: var(--radius); border: 2px solid var(--border);
  display: flex; overflow: hidden; transition: var(--transition);
}
.themePreview:hover .themeBox { border-color: var(--border-light); }
.themeSelected .themeBox { border-color: var(--accent) !important; }
.themeSidebar { width: 30%; }
.themeContent { flex: 1; padding: var(--space-2); display: flex; flex-direction: column; gap: 4px; }
.themeBar { height: 6px; border-radius: 2px; }
.themeLabel {
  display: block; text-align: center; font-size: var(--text-sm);
  margin-top: var(--space-2); color: var(--text-muted);
}

/* Accent color */
.accentRow { display: flex; gap: var(--space-3); flex-wrap: wrap; align-items: center; }
.accentSwatch {
  width: 32px; height: 32px; border-radius: 50%; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  border: 2px solid transparent; transition: var(--transition);
}
.accentSwatch:hover { transform: scale(1.15); }
.accentSelected { border-color: var(--text-primary); }
.swatchInner { width: 22px; height: 22px; border-radius: 50%; }

/* Custom color picker */
.customPickerWrap {
  position: relative;
}

.colorPickerPopup {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-window);
  border: 1px solid var(--border-light);
  border-radius: var(--radius);
  padding: var(--space-3);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  z-index: 100;
  min-width: 200px;
  animation: popIn 0.15s ease;
}

@keyframes popIn {
  from { opacity: 0; transform: translateX(-50%) translateY(-4px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

.colorPickerHeader {
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--text-secondary);
  margin-bottom: var(--space-3);
  text-align: center;
}

.colorSpectrum {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 6px;
  margin-bottom: var(--space-3);
}

.spectrumColor {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  cursor: pointer;
  transition: transform 0.1s, box-shadow 0.1s;
  border: 2px solid transparent;
}

.spectrumColor:hover {
  transform: scale(1.15);
}

.spectrumColorActive {
  border-color: white;
  box-shadow: 0 0 0 1px var(--bg-window), 0 0 8px rgba(255,255,255,0.3);
}

.hexInputRow {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-3);
}

.hexInputRow span {
  color: var(--text-muted);
  font-family: var(--font-mono);
  font-size: var(--text-sm);
}

.hexInput {
  flex: 1;
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 6px 8px;
  font-family: var(--font-mono);
  font-size: var(--text-sm);
  color: var(--text-primary);
  text-transform: uppercase;
}

.hexInput:focus {
  outline: none;
  border-color: var(--accent);
}

.hexPreview {
  width: 28px;
  height: 28px;
  border-radius: var(--radius-sm);
  border: 1px solid var(--border);
}

.applyColorBtn {
  width: 100%;
  padding: 8px;
  background: var(--accent);
  color: white;
  border: none;
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  cursor: pointer;
  transition: opacity 0.15s;
}

.applyColorBtn:hover {
  opacity: 0.9;
}

/* Toggle */
.toggleGrid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-3); }
.toggleRow {
  display: flex; justify-content: space-between; align-items: center;
  font-size: var(--text-base); color: var(--text-secondary);
}
.toggle {
  width: 40px; height: 22px; border-radius: 11px;
  background: rgba(255,255,255,0.1); cursor: pointer;
  position: relative; transition: var(--transition);
}
.toggleOn { background: var(--accent); }
.toggleKnob {
  width: 16px; height: 16px; border-radius: 50%;
  background: white; position: absolute; top: 3px; left: 3px;
  transition: var(--transition);
}
.toggleOn .toggleKnob { left: 21px; }

/* Form */
.formGrid {
  display: grid; grid-template-columns: 130px 1fr; gap: var(--space-3);
  font-size: var(--text-base); align-items: center;
}
.formGrid label { color: var(--text-muted); }
.input {
  background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm);
  padding: 9px 14px; color: var(--text-primary); font-size: var(--text-base);
  transition: var(--transition); width: 100%;
}
.input:focus { border-color: var(--accent); }
.mono { font-family: var(--font-mono); }
.ifaceStatus {
  display: flex; align-items: center; gap: var(--space-2); font-size: var(--text-base);
}
.dotRunning {
  width: 7px; height: 7px; border-radius: 50%; background: var(--accent-green);
  display: inline-block;
}
.formActions { display: flex; gap: var(--space-2); justify-content: flex-end; margin-top: var(--space-4); }

/* Buttons */
.btn {
  height: 32px; padding: 0 var(--space-4); font-size: var(--text-sm);
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-sm);
  color: var(--text-secondary); cursor: pointer; transition: var(--transition);
}
.btn:hover { background: var(--bg-hover); color: var(--text-primary); }
.btnPrimary {
  composes: btn;
  background: linear-gradient(135deg, var(--accent), var(--accent-active));
  border-color: transparent; color: white; font-weight: var(--weight-medium);
}
.btnPrimary:hover { filter: brightness(1.1); }

/* Table */
.tableCard {
  background: var(--bg-card); border: 1px solid var(--border);
  border-radius: var(--radius); overflow: hidden;
}
.table { width: 100%; border-collapse: collapse; font-size: var(--text-sm); }
.table th {
  text-align: left; padding: var(--space-3) var(--space-4);
  font-size: var(--text-xs); font-weight: var(--weight-medium); color: var(--text-muted);
  text-transform: uppercase; letter-spacing: 0.5px;
  border-bottom: 1px solid var(--border); background: var(--bg-sidebar); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
}
.table td { padding: var(--space-3) var(--space-4); border-bottom: 1px solid var(--border); }
.table tr:last-child td { border-bottom: none; }
.cellBold { font-weight: var(--weight-medium); color: var(--text-primary); }
.badgeGood {
  display: inline-flex; align-items: center; gap: var(--space-1);
  font-size: var(--text-xs); color: var(--accent-green);
  background: rgba(76,175,80,0.08); padding: 3px 10px; border-radius: var(--radius-full);
}

/* About */
.aboutGrid {
  display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-2);
  font-size: var(--text-sm); text-align: left; margin-top: var(--space-4);
}

/* ─── Text Size ─── */
.sliderSection { display: flex; flex-direction: column; gap: var(--space-3); }
.sliderLabel {
  display: flex; justify-content: space-between; align-items: flex-end;
  color: var(--text-muted); padding: 0 var(--space-2);
}
.sizeSteps {
  display: flex; justify-content: space-between; align-items: center;
  background: var(--bg-input); border-radius: var(--radius-full);
  padding: 6px 8px; position: relative;
}
.sizeStep {
  display: flex; flex-direction: column; align-items: center; gap: 4px;
  cursor: pointer; flex: 1; padding: 6px 0; border-radius: var(--radius-sm);
  transition: var(--transition); font-size: var(--text-xs); color: var(--text-muted);
}
.sizeStep:hover { color: var(--text-primary); }
.sizeStepDot {
  width: 10px; height: 10px; border-radius: 50%;
  background: var(--border-light); transition: var(--transition);
}
.sizeStepActive { color: var(--text-primary); }
.sizeStepActive .sizeStepDot {
  background: var(--accent); box-shadow: 0 0 8px var(--accent-glow);
  transform: scale(1.3);
}
.sliderHint { font-size: var(--text-xs); color: var(--text-muted); text-align: center; }

/* ─── Taskbar Settings ─── */
.taskbarSection { display: flex; flex-direction: column; gap: var(--space-4); }
.taskbarOption {
  display: flex; align-items: center; justify-content: space-between;
}
.taskbarOptionLabel { font-size: var(--text-base); color: var(--text-secondary); }
.segmentedControl {
  display: flex; background: var(--bg-input); border-radius: var(--radius);
  padding: 3px; gap: 2px;
}
.segment {
  padding: 6px 16px; border-radius: var(--radius-sm); font-size: var(--text-sm);
  color: var(--text-muted); cursor: pointer; transition: var(--transition);
  text-align: center; min-width: 70px;
}
.segment:hover { color: var(--text-primary); }
.segmentActive {
  background: var(--accent); color: white; font-weight: var(--weight-medium);
  box-shadow: 0 2px 6px var(--accent-glow);
}

/* ─── Widget Toggles ─── */
.widgetToggles { display: flex; flex-direction: column; gap: var(--space-1); }
.widgetToggleRow {
  display: flex; justify-content: space-between; align-items: center;
  padding: var(--space-2) 0;
  border-bottom: 1px solid var(--border);
}
.widgetToggleRow:last-child { border-bottom: none; }
.widgetToggleName { font-size: var(--text-base); color: var(--text-primary); font-weight: var(--weight-medium); }
.widgetToggleDesc { font-size: var(--text-xs); color: var(--text-muted); margin-top: 2px; }

/* ─── Glow intensity ─── */
.glowSection {
  display: flex; flex-direction: column; align-items: center; gap: var(--space-3);
  padding: var(--space-2) 0;
}
.glowPreview {
  width: 120px; height: 70px;
  background: var(--bg-sidebar); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
  border: 1px solid var(--accent);
  border-radius: var(--radius-lg);
  transition: box-shadow 0.2s ease;
}
.glowSliderRow {
  display: flex; align-items: center; gap: var(--space-3); width: 100%;
}
.glowLabel {
  font-size: var(--text-xs); color: var(--text-muted); white-space: nowrap; min-width: 44px;
}
.glowLabel:last-child { text-align: right; }
.glowSlider {
  flex: 1; height: 4px; -webkit-appearance: none; appearance: none;
  background: var(--border); border-radius: 2px; outline: none;
}
.glowSlider::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none;
  width: 16px; height: 16px; border-radius: 50%;
  background: var(--accent); cursor: pointer;
  box-shadow: 0 0 6px var(--accent-glow);
}
.glowSlider::-moz-range-thumb {
  width: 16px; height: 16px; border-radius: 50%; border: none;
  background: var(--accent); cursor: pointer;
  box-shadow: 0 0 6px var(--accent-glow);
}

/* ─── Wallpaper ─── */
.wallpaperSection {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.wallpaperGrid {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.wallpaperItem {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  cursor: pointer;
  font-size: var(--text-xs);
  color: var(--text-muted);
}

.wallpaperNone {
  width: 72px;
  height: 48px;
  border-radius: 8px;
  border: 2px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-muted);
  transition: border-color 0.15s;
}

.wallpaperSelected .wallpaperNone {
  border-color: var(--accent);
}

.wallpaperUpload {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  border-radius: 8px;
  border: 1px dashed var(--border);
  color: var(--text-secondary);
  font-size: var(--text-sm);
  cursor: pointer;
  transition: all 0.15s;
  align-self: flex-start;
}

.wallpaperUpload:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: var(--bg-hover);
}

.wallpaperPreview {
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid var(--border);
  max-width: 200px;
}

.wallpaperPreview img {
  width: 100%;
  height: 80px;
  object-fit: cover;
  display: block;
}

/* ═══════════════════════════════════
   Performance / GPU Section
   ═══════════════════════════════════ */
.cardLabel {
  display: flex;
  align-items: center;
  gap: var(--space-2);
}

.gpuBadge {
  font-size: var(--text-xs);
  font-weight: var(--weight-medium);
  padding: 2px 8px;
  border-radius: var(--radius-full);
  background: rgba(255, 255, 255, 0.05);
  margin-left: auto;
}

.gpuInfo {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-2) var(--space-3);
  margin-bottom: var(--space-3);
  background: var(--bg-input);
  border-radius: var(--radius-sm);
  font-size: var(--text-sm);
}

.gpuRenderer {
  color: var(--text-secondary);
  font-family: var(--font-mono);
  font-size: var(--text-xs);
}

.gpuAuto {
  font-size: var(--text-xs);
  color: var(--accent-green);
  display: flex;
  align-items: center;
  gap: 4px;
}

.gpuAuto::before {
  content: '●';
  font-size: 8px;
}

.perfSelector {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-2);
}

.perfOption {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-3);
  background: var(--bg-input);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: all 0.15s ease;
  text-align: center;
}

.perfOption:hover {
  border-color: var(--border-light);
  background: var(--bg-hover);
}

.perfOptionActive {
  border-color: var(--accent) !important;
  background: rgba(233, 84, 32, 0.06);
  box-shadow: 0 0 0 1px var(--accent);
}

.perfIcon {
  width: 28px;
  height: 28px;
  object-fit: contain;
  opacity: 0.7;
  transition: all 0.15s;
}

/* Invertir iconos para tema dark/midnight */
[data-theme="dark"] .perfIcon,
[data-theme="midnight"] .perfIcon {
  filter: invert(1) opacity(0.7);
}

[data-theme="dark"] .perfOptionActive .perfIcon,
[data-theme="midnight"] .perfOptionActive .perfIcon {
  filter: invert(1) opacity(1);
}

/* Tema light - iconos normales */
[data-theme="light"] .perfIcon {
  opacity: 0.6;
}

[data-theme="light"] .perfOptionActive .perfIcon {
  opacity: 1;
}

.perfOptionActive .perfIcon {
  opacity: 1;
}

.perfText {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.perfLabel {
  font-size: var(--text-sm);
  font-weight: var(--weight-medium);
  color: var(--text-primary);
}

.perfDesc {
  font-size: var(--text-xs);
  color: var(--text-muted);
}

.resetAutoBtn {
  margin-top: var(--space-3);
  padding: var(--space-2) var(--space-3);
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-muted);
  font-size: var(--text-xs);
  cursor: pointer;
  transition: all 0.15s;
  width: 100%;
}

.resetAutoBtn:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: var(--bg-hover);
}

/* ─── Wallpaper Row Layout ─── */
.wallpaperRow {
  display: flex;
  gap: var(--space-4);
  align-items: flex-start;
}
.wallpaperControls {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}
.wallpaperPreviewLarge {
  flex: 1;
  max-width: 200px;
  border-radius: var(--radius);
  overflow: hidden;
  border: 2px solid var(--accent);
}
.wallpaperPreviewLarge img {
  width: 100%;
  height: auto;
  display: block;
  object-fit: cover;
  aspect-ratio: 16/9;
}

/* ─── Small Segmented Control (inline) ─── */
.segmentedControlSmall {
  display: flex;
  background: var(--bg-input);
  border-radius: var(--radius-sm);
  padding: 2px;
  gap: 2px;
}
.segmentSmall {
  padding: 4px 12px;
  border-radius: calc(var(--radius-sm) - 2px);
  font-size: var(--text-sm);
  cursor: pointer;
  transition: all 0.15s ease;
  color: var(--text-muted);
}
.segmentSmall:hover {
  color: var(--text-primary);
}
.segmentSmallActive {
  background: var(--accent);
  color: white;
}
